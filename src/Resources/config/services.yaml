services:
  _defaults:
    autowire: true
    autoconfigure: true
    public: false

  Tourze\StockCostBundle\Controller\:
    resource: '../../Controller/'
  Tourze\StockCostBundle\Repository\:
    resource: '../../Repository/'
  Tourze\StockCostBundle\Service\:
    resource: '../../Service/'
    public: true
  Tourze\StockCostBundle\EventListener\:
    resource: '../../EventListener/'
    public: true
  Tourze\StockCostBundle\Validator\:
    resource: '../../Validator/'

  # 成本服务配置（需要显式注入计算器列表）
  Tourze\StockCostBundle\Service\CostService:
    arguments:
      $calculators:
        - '@Tourze\StockCostBundle\Service\Calculator\FifoCostCalculator'
        - '@Tourze\StockCostBundle\Service\Calculator\LifoCostCalculator'
        - '@Tourze\StockCostBundle\Service\Calculator\WeightedAverageCostCalculator'
        - '@Tourze\StockCostBundle\Service\Calculator\StandardCostCalculator'
